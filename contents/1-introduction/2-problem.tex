The Hopsworks Feature Store \cite{HopsworksBatchRealtime2024} when querying the Offline Feature Store, uses Spark as a query engine, i.e. executes the query (read, write, or delete) on the Offline Feature Store.

Currently, a write operation on the legacy Spark pipeline used in the Hopsworks Feature store will take one or more minutes to complete, even if writing a small quantity of data (only 1 GB of data or less).
This hurts Hopsworks' typical use-case which sits between tests on small quantities of data (scale between 1-10 GBs) and production scenarios on a larger scale, but still relatively small (scale between 10-100 GBs).

The research hypothesis that guides this research is that this slow transaction time is a Spark-specific issue. This is why Hopsworks has already adopted Spark alternatives \cite{Khazanchi1801362} and it is experimenting with more Spark alternatives. Currently, Hopsworks is saving their Feature Store data on Apache Hudi and Delta Lake table formats. Delta Lake supports Spark alternatives for accessing and querying the data, and of particular interest is the delta-rs library~\cite{DeltaioDeltars2024} that enables Python access to Delta Lake tables, without having to use Spark. 
However, the delta-rs \cite{DeltaioDeltars2024} does not support \gls{HDFS}, and consequently \gls{HopsFS} \cite{niaziHopsFSScalingHierarchical2017}.

% Research Question
\subsection{Research Question}
\label{sec:researchQuestion}
This research project has the ultimate objective to evaluate and compare the performance of the current Spark system that operates on Apache Hudi, to a Rust system that uses delta-rs library \cite{DeltaioDeltars2024} operates on Delta Lake, using \gls{HopsFS} \cite{niaziHopsFSScalingHierarchical2017}. To achieve this, support for \gls{HDFS} (and thus also \gls{HopsFS}) must be added to the delta-rs library \cite{DeltaioDeltars2024}, so that it can be compatible with the Hopsworks system. Thus the project addresses the following two \glspl{RQ}:
\begin{enumerate}
    \item[RQ1:] How can we add support for \gls{HDFS} and \gls{HopsFS} to the delta-rs library?
    \item[RQ2:] What is the difference in latency (measured in seconds) and throughput (measured in rows/second) between a Spark-based operation (read or write) to Apache Hudi compared to a delta-rs library-based operation (read or write) to Delta Lake, in \gls{HopsFS}?  
\end{enumerate}

%Some text
% Small summary of the problem and formulation of a single research question

% \subsection{Scientific and engineering issues}
% % Outline of the various problems to address during implementation
% Delta-rs \cite{DeltaioDeltars2024}, as the name suggests, is a Rust \cite{RustProgrammingLanguage} library, that offers Python bindings. Rust is a compiled language, and as such it does not need an interpreter like Python or a virtual environment like Java. This means that it is particularly easy to embed and use Rust code as a library in another language such as Python. 

% Currently, delta-rs does not support \gls{HDFS} and therefore, \gls{HopsFS}\cite{niaziHopsFSScalingHierarchical2017}. This means that adding \gls{HDFS} support for delta-rs becomes a requirement of this project. Additionally, it should be noted that to match the dependencies used in the repository, the object\_store \cite{Object_storeRust} interface of Apache DataFusion \cite{ApacheDataFusionApache} should be used.